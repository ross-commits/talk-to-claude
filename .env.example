# Talk to Claude (TTC) Configuration
# ====================================

# ===================
# Webhook URL (REQUIRED)
# ===================
# Public HTTPS URL where Twilio can reach your TTC server.
# Get this from your infrastructure:
#   - Terraform:  cd infra && terraform output webhook_url
#   - Manual:     your API Gateway / Cloudflare Tunnel / static IP
# Falls back to ngrok if unset (requires TTC_NGROK_AUTHTOKEN).
TTC_WEBHOOK_URL=https://xxxxxxxxxx.execute-api.us-east-1.amazonaws.com

# ===================
# Phone Provider (Twilio)
# ===================
TTC_PHONE_PROVIDER=twilio
TTC_PHONE_ACCOUNT_SID=your_twilio_account_sid
TTC_PHONE_AUTH_TOKEN=your_twilio_auth_token
TTC_PHONE_NUMBER=+1234567890          # Your Twilio number (handles voice + SMS)
TTC_USER_PHONE_NUMBER=+1234567890     # Your personal phone number

# ===================
# Voice Backend
# ===================
# Options: "nova-sonic" (default), "openai", "self-hosted"
TTC_VOICE_BACKEND=nova-sonic

# --- Nova Sonic (default — recommended) ---
# Uses AWS credentials from environment or ~/.aws/credentials
# In Docker: passed via docker-compose.yml env vars + volume mount
TTC_AWS_REGION=us-east-1
TTC_NOVA_SONIC_MODEL=amazon.nova-2-sonic-v1:0
TTC_NOVA_SONIC_VOICE=matthew
# Available voices: matthew, tiffany, amy, lupe, carlos, tina, carolina, leo, kiara, arjun

# --- OpenAI (fallback) ---
# TTC_OPENAI_API_KEY=sk-...
# TTC_TTS_VOICE=onyx

# --- Self-Hosted (local GPU server) ---
# TTC_SELF_HOSTED_STT_URL=http://your-stt-host:8000   # faster-whisper
# TTC_SELF_HOSTED_TTS_URL=http://your-tts-host:8001   # Kokoro / MeloTTS / Piper

# ===================
# Claude Brain (conversation intelligence)
# ===================
# When voice backend is NOT nova-sonic, Claude Sonnet on Bedrock handles
# the conversation with full tool access (system metrics, Docker, SSH, etc.)
# Uses AWS credentials from environment — no API key needed.
TTC_CLAUDE_MODEL=us.anthropic.claude-sonnet-4-5-20250929-v1:0

# ===================
# Lab / Infrastructure Tools (used during calls)
# ===================
# Hosts that tools can SSH into (JSON object: { "hostname": { "ip": "x.x.x.x", "user": "username" } })
# TTC_LAB_HOSTS={"myserver":{"ip":"192.168.1.100","user":"admin"}}
#
# Services to health-check (JSON object: { "key": { "url": "http://...", "name": "Display Name" } })
# TTC_LAB_SERVICES={"grafana":{"url":"http://192.168.1.100:3000","name":"Grafana"}}
#
# Prometheus query endpoint for system metrics
# TTC_PROMETHEUS_URL=http://192.168.1.100:9090

# ===================
# Optional
# ===================
# TTC_PORT=3333
# TTC_TRANSCRIPT_TIMEOUT_MS=180000
# TTC_STT_SILENCE_DURATION_MS=800

# ===================
# WebSocket URL (for Twilio media streams)
# ===================
# If using the ALB (enable_alb = true in Terraform):
#   TTC_WS_URL=$(cd infra && terraform output -raw ws_url)
# Otherwise falls back to ngrok (requires TTC_NGROK_AUTHTOKEN).
# TTC_WS_URL=https://your-alb-dns.us-east-1.elb.amazonaws.com

# ===================
# ngrok (fallback if NOT using TTC_WEBHOOK_URL or TTC_WS_URL)
# ===================
# TTC_NGROK_AUTHTOKEN=your_ngrok_authtoken
# TTC_NGROK_DOMAIN=your-domain.ngrok.io
